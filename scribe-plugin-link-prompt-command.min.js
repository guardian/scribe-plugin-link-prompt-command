define("checks",[],function(){function e(e){return/\w/.test(e)}return{emptyLink:e}}),define("scribe-plugin-link-prompt-command",["./checks"],function(e){return function(t){var t=t||{};return function(n){var i=new n.api.Command("createLink");i.nodeName="A",i.execute=function(i){var o,a=new n.api.Selection,r=a.range,d=a.getContaining(function(e){return e.nodeName===this.nodeName}.bind(this)),l=d?d.href:"";if(o=i?i:window.prompt("Enter a link.",l),!e.emptyLink(o))return void window.alert("This link appears empty");if(t&&t.validation){var s=t.validation(o);if(!s.valid)return void window.alert(s.message||"The link is not valid")}if(d&&(r.selectNode(d),a.selection.removeAllRanges(),a.selection.addRange(r)),o){var u=/^https?\:\/\//,p=/^mailto\:/,m=/^tel\:/;if(!u.test(o)&&!p.test(o)&&!m.test(o))if(/@/.test(o)){var c=window.confirm("The URL you entered appears to be an email address. Do you want to add the required “mailto:” prefix?");c&&(o="mailto:"+o)}else if(/\+\d+/.test(o)){var f=window.confirm("The URL you entered appears to be a telephone number.Do you want to add the required “tel:” prefix?");f&&(o="tel:"+o)}else{var h=window.confirm("The URL you entered appears to be a link. Do you want to add the required “http://” prefix?");h&&(o="http://"+o)}n.api.SimpleCommand.prototype.execute.call(this,o)}},i.queryState=function(){var e=new n.api.Selection;return!!e.getContaining(function(e){return e.nodeName===this.nodeName}.bind(this))},n.commands.linkPrompt=i}}});
//# sourceMappingURL=scribe-plugin-link-prompt-command.min.js.map